(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-define-define"],{"26c3":function(n,a,t){var e=t("aa14");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);var i=t("967d").default;i("732cfab8",e,!0,{sourceMap:!1,shadowMode:!1})},"3ca5":function(n,a,t){"use strict";t.r(a);var e=t("a957"),i=t("5117");for(var s in i)["default"].indexOf(s)<0&&function(n){t.d(a,n,(function(){return i[n]}))}(s);t("9938");var o=t("828b"),r=Object(o["a"])(i["default"],e["b"],e["c"],!1,null,"5d6aaf0e",null,!1,e["a"],void 0);a["default"]=r.exports},5117:function(n,a,t){"use strict";t.r(a);var e=t("b2b13"),i=t.n(e);for(var s in e)["default"].indexOf(s)<0&&function(n){t.d(a,n,(function(){return e[n]}))}(s);a["default"]=i.a},9938:function(n,a,t){"use strict";var e=t("26c3"),i=t.n(e);i.a},a957:function(n,a,t){"use strict";t.d(a,"b",(function(){return e})),t.d(a,"c",(function(){return i})),t.d(a,"a",(function(){}));var e=function(){var n=this,a=n.$createElement,t=n._self._c||a;return t("v-uni-view",{staticClass:"define-container"},[t("v-uni-view",{staticClass:"header"},[t("v-uni-text",{staticClass:"header-title"},[n._v("✏️ 自定义设定")]),t("v-uni-text",{staticClass:"header-desc"},[n._v("手动输入人物信息和关系（点击⚙️删除标签）")])],1),t("v-uni-view",{staticClass:"form-group"},[t("v-uni-text",{staticClass:"form-label"},[n._v("收信人名称")]),t("v-uni-input",{staticClass:"name-input",attrs:{type:"text",placeholder:"请输入收信人姓名"},model:{value:n.receiverName,callback:function(a){n.receiverName=a},expression:"receiverName"}})],1),t("v-uni-view",{staticClass:"form-group"},[t("v-uni-text",{staticClass:"form-label"},[n._v("收信人描述")]),t("v-uni-view",{staticClass:"tags-container"},[n._l(n.personalityTags,(function(a,e){return t("v-uni-view",{key:e,staticClass:"tag-item"},[t("v-uni-text",{staticClass:"tag-text",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.addToReceiverDesc(a)}}},[n._v(n._s(a))]),t("v-uni-text",{staticClass:"tag-op",on:{click:function(a){a.stopPropagation(),arguments[0]=a=n.$handleEvent(a),n.deleteTag(e,"personality")}}},[n._v("⚙️")])],1)})),t("v-uni-view",{staticClass:"tag add-tag",on:{click:function(a){arguments[0]=a=n.$handleEvent(a),n.addTag("personality")}}},[n._v("+ 添加性格标签")])],2),t("v-uni-textarea",{staticClass:"desc-textarea",attrs:{placeholder:"描述收信人的性格、背景、经历等",rows:"6"},model:{value:n.receiverDesc,callback:function(a){n.receiverDesc=a},expression:"receiverDesc"}})],1),t("v-uni-view",{staticClass:"form-group"},[t("v-uni-text",{staticClass:"form-label"},[n._v("寄信人名称")]),t("v-uni-input",{staticClass:"name-input",attrs:{type:"text",placeholder:"请输入寄信人姓名"},model:{value:n.senderName,callback:function(a){n.senderName=a},expression:"senderName"}})],1),t("v-uni-view",{staticClass:"form-group"},[t("v-uni-text",{staticClass:"form-label"},[n._v("寄信人描述")]),t("v-uni-view",{staticClass:"tags-container"},[n._l(n.personalityTags,(function(a,e){return t("v-uni-view",{key:e,staticClass:"tag-item"},[t("v-uni-text",{staticClass:"tag-text",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.addToSenderDesc(a)}}},[n._v(n._s(a))]),t("v-uni-text",{staticClass:"tag-op",on:{click:function(a){a.stopPropagation(),arguments[0]=a=n.$handleEvent(a),n.deleteTag(e,"personality")}}},[n._v("⚙️")])],1)})),t("v-uni-view",{staticClass:"tag add-tag",on:{click:function(a){arguments[0]=a=n.$handleEvent(a),n.addTag("personality")}}},[n._v("+ 添加性格标签")])],2),t("v-uni-textarea",{staticClass:"desc-textarea",attrs:{placeholder:"描述寄信人的性格、背景、经历等",rows:"6"},model:{value:n.senderDesc,callback:function(a){n.senderDesc=a},expression:"senderDesc"}})],1),t("v-uni-view",{staticClass:"form-group"},[t("v-uni-text",{staticClass:"form-label"},[n._v("两人关系描述")]),t("v-uni-view",{staticClass:"tags-container"},[n._l(n.relationshipTags,(function(a,e){return t("v-uni-view",{key:e,staticClass:"tag-item"},[t("v-uni-text",{staticClass:"tag-text",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.addToRelationship(a)}}},[n._v(n._s(a))]),t("v-uni-text",{staticClass:"tag-op",on:{click:function(a){a.stopPropagation(),arguments[0]=a=n.$handleEvent(a),n.deleteTag(e,"relationship")}}},[n._v("⚙️")])],1)})),t("v-uni-view",{staticClass:"tag add-tag",on:{click:function(a){arguments[0]=a=n.$handleEvent(a),n.addTag("relationship")}}},[n._v("+ 添加关系标签")])],2),t("v-uni-textarea",{staticClass:"desc-textarea",attrs:{placeholder:"描述两人之间的关系（如：挚友、师生、亲人等）",rows:"4"},model:{value:n.relationship,callback:function(a){n.relationship=a},expression:"relationship"}})],1),t("v-uni-view",{staticClass:"btn-group"},[t("v-uni-button",{staticClass:"back-btn",on:{click:function(a){arguments[0]=a=n.$handleEvent(a),n.$emit("back")}}},[t("v-uni-text",[n._v("返回")])],1),t("v-uni-button",{staticClass:"save-btn",attrs:{disabled:!n.isValid},on:{click:function(a){arguments[0]=a=n.$handleEvent(a),n.saveDefineInfo.apply(void 0,arguments)}}},[t("v-uni-text",[n._v("保存设定")])],1)],1),n.showAddDialog?t("v-uni-view",{staticClass:"dialog-mask"},[t("v-uni-view",{staticClass:"dialog"},[t("v-uni-text",{staticClass:"dialog-title"},[n._v("添加标签")]),t("v-uni-input",{staticClass:"dialog-input",attrs:{type:"text",placeholder:"请输入标签名称"},model:{value:n.newTagName,callback:function(a){n.newTagName=a},expression:"newTagName"}}),t("v-uni-view",{staticClass:"dialog-btns"},[t("v-uni-button",{staticClass:"dialog-btn cancel-btn",on:{click:function(a){arguments[0]=a=n.$handleEvent(a),n.showAddDialog=!1}}},[t("v-uni-text",[n._v("取消")])],1),t("v-uni-button",{staticClass:"dialog-btn confirm-btn",on:{click:function(a){arguments[0]=a=n.$handleEvent(a),n.confirmAddTag.apply(void 0,arguments)}}},[t("v-uni-text",[n._v("确定添加")])],1)],1)],1)],1):n._e()],1)},i=[]},aa14:function(n,a,t){var e=t("c86c");a=e(!1),a.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* 页面基础样式 */uni-page-body[data-v-5d6aaf0e]{background-color:#f8f5f0;padding:10px;box-sizing:border-box}body.?%PAGE?%[data-v-5d6aaf0e]{background-color:#f8f5f0}.define-container[data-v-5d6aaf0e]{max-width:800px;margin:0 auto;width:100%}\n/* 头部样式 */.header[data-v-5d6aaf0e]{text-align:center;margin-bottom:20px}.header-title[data-v-5d6aaf0e]{font-size:18px;font-weight:700;color:#333;display:block}.header-desc[data-v-5d6aaf0e]{font-size:14px;color:#666;margin-top:5px;display:block}\n/* 表单组样式 */.form-group[data-v-5d6aaf0e]{background:#fff;padding:15px;border-radius:8px;margin-bottom:15px;box-shadow:0 1px 3px rgba(0,0,0,.1)}.form-label[data-v-5d6aaf0e]{font-size:15px;font-weight:500;color:#444;margin-bottom:8px;display:block}\n/* 输入框样式 */.name-input[data-v-5d6aaf0e]{width:100%;height:40px;padding:0 10px;border:1px solid #eee;border-radius:6px;font-size:14px;box-sizing:border-box}\n/* 标签容器样式 */.tags-container[data-v-5d6aaf0e]{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:10px;min-height:30px}\n/* 标签项样式 */.tag-item[data-v-5d6aaf0e]{display:flex;align-items:center;background:#e6f7ff;border-radius:15px;padding:0 8px}.tag-text[data-v-5d6aaf0e]{font-size:13px;color:#1890ff;padding:5px 0;cursor:pointer}.tag-text[data-v-5d6aaf0e]:hover{color:#096dd9}\n/* 小齿轮图标样式 */.tag-op[data-v-5d6aaf0e]{font-size:12px;color:#ff4d4f;margin-left:5px;cursor:pointer;transition:color .2s}.tag-op[data-v-5d6aaf0e]:hover{color:#d9363e}\n/* 添加标签按钮 */.tag.add-tag[data-v-5d6aaf0e]{padding:5px 12px;background:#f0f2f5;color:#666;border-radius:15px;font-size:13px;cursor:pointer}.tag.add-tag[data-v-5d6aaf0e]:hover{background:#e5e6eb}\n/* 文本域样式 */.desc-textarea[data-v-5d6aaf0e]{width:100%;min-height:100px;padding:10px;border:1px solid #eee;border-radius:6px;font-size:14px;box-sizing:border-box;resize:vertical}\n/* 按钮组样式 */.btn-group[data-v-5d6aaf0e]{display:flex;gap:10px;margin-top:20px}.back-btn[data-v-5d6aaf0e], .save-btn[data-v-5d6aaf0e]{flex:1;height:44px;line-height:44px;border:none;border-radius:8px;font-size:15px}.back-btn[data-v-5d6aaf0e]{background:#f5f5f5;color:#666}.save-btn[data-v-5d6aaf0e]{background:#9f7aea;color:#fff}.save-btn[data-v-5d6aaf0e]:disabled{background:#ccc;color:#999;cursor:not-allowed}\n/* 弹窗遮罩 */.dialog-mask[data-v-5d6aaf0e]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center;z-index:999}\n/* 弹窗内容 - 优化小屏显示 */.dialog[data-v-5d6aaf0e]{width:90%; /* 从80%改为90%，适配小屏 */max-width:400px;background:#fff;border-radius:10px;padding:20px;box-sizing:border-box}.dialog-title[data-v-5d6aaf0e]{font-size:16px;font-weight:700;margin-bottom:15px;display:block;text-align:center}.dialog-input[data-v-5d6aaf0e]{width:100%;height:40px;border:1px solid #ddd;border-radius:5px;padding:0 10px;margin-bottom:20px;box-sizing:border-box}\n/* 弹窗按钮组 */.dialog-btns[data-v-5d6aaf0e]{display:flex;gap:10px}.dialog-btn[data-v-5d6aaf0e]{flex:1;height:40px;border:none;border-radius:5px;font-size:14px}.cancel-btn[data-v-5d6aaf0e]{background:#f5f5f5;color:#666}.confirm-btn[data-v-5d6aaf0e]{background:#9f7aea;color:#fff}",""]),n.exports=a},b2b13:function(n,a,t){"use strict";t("6a54"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("0c26"),t("d4b5"),t("aa9c"),t("dd2b");var e={name:"DefinePage",data:function(){return{receiverName:"",receiverDesc:"",senderName:"",senderDesc:"",relationship:"",personalityTags:[],relationshipTags:[],showAddDialog:!1,newTagName:"",currentAddCategory:""}},computed:{isValid:function(){return this.receiverName.trim()&&this.senderName.trim()&&this.relationship.trim()}},created:function(){this.initTags()},methods:{initTags:function(){try{var n=uni.getStorageSync("personality_tags");this.personalityTags=n?JSON.parse(n):["温和","暴躁","聪慧","直率","内敛","热情","忧郁","乐观"];var a=uni.getStorageSync("relationship_tags");this.relationshipTags=a?JSON.parse(a):["挚友","师生","亲人","恋人","同事","敌人","同乡","知己"]}catch(t){this.personalityTags=["温和","暴躁","聪慧","直率","内敛","热情","忧郁","乐观"],this.relationshipTags=["挚友","师生","亲人","恋人","同事","敌人","同乡","知己"],uni.setStorageSync("personality_tags",JSON.stringify(this.personalityTags)),uni.setStorageSync("relationship_tags",JSON.stringify(this.relationshipTags))}},addToReceiverDesc:function(n){n&&(this.receiverDesc+=(this.receiverDesc?", ":"")+n)},addToSenderDesc:function(n){n&&(this.senderDesc+=(this.senderDesc?", ":"")+n)},addToRelationship:function(n){n&&(this.relationship+=(this.relationship?", ":"")+n)},addTag:function(n){n&&(this.currentAddCategory=n,this.newTagName="",this.showAddDialog=!0)},confirmAddTag:function(){if(this.newTagName&&""!==this.newTagName.trim()){var n=this.newTagName.trim();try{"personality"===this.currentAddCategory?(this.personalityTags.push(n),uni.setStorageSync("personality_tags",JSON.stringify(this.personalityTags))):"relationship"===this.currentAddCategory&&(this.relationshipTags.push(n),uni.setStorageSync("relationship_tags",JSON.stringify(this.relationshipTags))),uni.showToast({title:"标签添加成功",icon:"success",duration:1500}),this.showAddDialog=!1}catch(a){uni.showToast({title:"添加失败，请重试",icon:"none",duration:1500})}}else uni.showToast({title:"标签名称不能为空",icon:"none",duration:1500})},deleteTag:function(n,a){if(void 0===n||n<0||!a)uni.showToast({title:"参数错误",icon:"none",duration:1500});else{var t=this;uni.showModal({title:"确认删除",content:"是否确定删除该标签？",success:function(e){if(e.confirm)try{if("personality"===a){if(!(n<t.personalityTags.length))return void uni.showToast({title:"标签不存在",icon:"none",duration:1500});t.personalityTags.splice(n,1),uni.setStorageSync("personality_tags",JSON.stringify(t.personalityTags))}else if("relationship"===a){if(!(n<t.relationshipTags.length))return void uni.showToast({title:"标签不存在",icon:"none",duration:1500});t.relationshipTags.splice(n,1),uni.setStorageSync("relationship_tags",JSON.stringify(t.relationshipTags))}uni.showToast({title:"标签删除成功",icon:"success",duration:1500})}catch(i){uni.showToast({title:"删除失败，请重试",icon:"none",duration:1500})}}})}},saveDefineInfo:function(){try{var n={receiver:{name:this.receiverName.trim(),info:this.receiverDesc.trim()},sender:{name:this.senderName.trim(),info:this.senderDesc.trim()},relationship:this.relationship.trim()};uni.setStorageSync("define_form_data",JSON.stringify(n)),uni.showToast({title:"设定保存成功",icon:"success",duration:1500}),this.$emit("complete",n)}catch(a){uni.showToast({title:"保存失败，请重试",icon:"none",duration:1500})}}}};a.default=e}}]);