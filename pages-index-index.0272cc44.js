(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index","pages-define-define"],{"24d5":function(e,n,t){"use strict";t.r(n);var a=t("45e5"),i=t("862e");for(var o in i)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return i[e]}))}(o);t("3499");var s=t("828b"),r=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"6abbafb8",null,!1,a["a"],void 0);n["default"]=r.exports},"26c3":function(e,n,t){var a=t("aa14");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=t("967d").default;i("732cfab8",a,!0,{sourceMap:!1,shadowMode:!1})},3499:function(e,n,t){"use strict";var a=t("e575"),i=t.n(a);i.a},"3ca5":function(e,n,t){"use strict";t.r(n);var a=t("a957"),i=t("5117");for(var o in i)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return i[e]}))}(o);t("9938");var s=t("828b"),r=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"5d6aaf0e",null,!1,a["a"],void 0);n["default"]=r.exports},"45e5":function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return i})),t.d(n,"a",(function(){}));var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-uni-view",{staticClass:"container"},[t("v-uni-view",{staticClass:"mode-selector"},[t("v-uni-view",{staticClass:"mode-btn",class:{active:"direct"===e.currentMode},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.switchMode("direct")}}},[t("v-uni-text",{staticClass:"ink-icon"},[e._v("ðŸ–‹ï¸")]),t("v-uni-text",{staticClass:"mode-text"},[e._v("ç›´æŽ¥ä½¿ç”¨")])],1),t("v-uni-view",{staticClass:"mode-btn",class:{active:"customize"===e.currentMode},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.switchMode("customize")}}},[t("v-uni-text",{staticClass:"ink-icon"},[e._v("ðŸŽ¨")]),t("v-uni-text",{staticClass:"mode-text"},[e._v("ä¸ªæ€§åŒ–å®šåˆ¶")])],1),t("v-uni-view",{staticClass:"mode-btn",class:{active:"define"===e.currentMode},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.switchMode("define")}}},[t("v-uni-text",{staticClass:"ink-icon"},[e._v("âœï¸")]),t("v-uni-text",{staticClass:"mode-text"},[e._v("è‡ªå®šä¹‰")])],1)],1),e.showModePage?e._e():t("v-uni-view",{staticClass:"letter-container"},[t("v-uni-text",{staticClass:"title"},[e._v("å¢¨ç—•å°ºç´  Â· ä¹¦ä¿¡å¾€æ¥")]),t("v-uni-view",{staticClass:"form-item"},[t("v-uni-text",{staticClass:"form-label"},[e._v("âœ‰ï¸ å›žä¿¡é£Žæ ¼")]),t("v-uni-view",{staticClass:"style-selector"},e._l(e.letterStyles,(function(n){return t("v-uni-view",{key:n.value,staticClass:"style-tag",class:{"style-tag-active":e.selectedStyle===n.value},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.selectedStyle=n.value}}},[e._v(" "+e._s(n.label)+" ")])})),1)],1),t("v-uni-view",{staticClass:"form-item"},[t("v-uni-text",{staticClass:"form-label"},[e._v("ðŸ“® å¯„ä¿¡äºº")]),t("v-uni-input",{staticClass:"name-input",attrs:{type:"text",placeholder:"è¯·è¾“å…¥å¯„ä¿¡äººå§“å","placeholder-class":"input-placeholder",focus:"false"},model:{value:e.sender,callback:function(n){e.sender=n},expression:"sender"}})],1),t("v-uni-view",{staticClass:"form-item"},[t("v-uni-text",{staticClass:"form-label"},[e._v("ðŸ“¥ æ”¶ä¿¡äºº")]),t("v-uni-input",{staticClass:"name-input",attrs:{type:"text",placeholder:"è¯·è¾“å…¥æ”¶ä¿¡äººå§“å","placeholder-class":"input-placeholder",focus:"false"},model:{value:e.receiver,callback:function(n){e.receiver=n},expression:"receiver"}})],1),t("v-uni-view",{staticClass:"form-item"},[t("v-uni-text",{staticClass:"form-label"},[e._v("âœï¸ ä¿¡ä»¶å†…å®¹")]),t("v-uni-textarea",{staticClass:"content-textarea",attrs:{placeholder:"è¯·è¾“å…¥è¦å‘é€çš„ä¿¡ä»¶å†…å®¹...","placeholder-class":"input-placeholder",rows:"8"},model:{value:e.letterContent,callback:function(n){e.letterContent=n},expression:"letterContent"}})],1),t("v-uni-button",{staticClass:"generate-btn",attrs:{disabled:e.loading||!e.sender||!e.receiver||!e.letterContent},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.callQwenApi.apply(void 0,arguments)}}},[e.loading?e._e():t("v-uni-text",[e._v("ðŸ§™â€â™‚ï¸ ç”Ÿæˆå›žä¿¡")]),e.loading?t("v-uni-text",[e._v("âœï¸ æ­£åœ¨æž„æ€å›žä¿¡...")]):e._e()],1),e.replyContent?t("v-uni-view",{staticClass:"reply-container"},[t("v-uni-text",{staticClass:"reply-title"},[e._v("ðŸ“œ æ¥è‡ª"+e._s(e.receiver)+"çš„å›žä¿¡")]),t("v-uni-view",{staticClass:"reply-content"},[e._v(e._s(e.replyContent))])],1):e._e()],1),"customize"===e.currentMode&&e.showModePage?t("customize-page",{on:{complete:function(n){arguments[0]=n=e.$handleEvent(n),e.onCustomizeComplete.apply(void 0,arguments)},back:function(n){arguments[0]=n=e.$handleEvent(n),e.showModePage=!1}}}):e._e(),"define"===e.currentMode&&e.showModePage?t("define-page",{on:{complete:function(n){arguments[0]=n=e.$handleEvent(n),e.onDefineComplete.apply(void 0,arguments)},back:function(n){arguments[0]=n=e.$handleEvent(n),e.showModePage=!1}}}):e._e()],1)},i=[]},5117:function(e,n,t){"use strict";t.r(n);var a=t("b2b13"),i=t.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return a[e]}))}(o);n["default"]=i.a},"862e":function(e,n,t){"use strict";t.r(n);var a=t("c76a"),i=t.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return a[e]}))}(o);n["default"]=i.a},9938:function(e,n,t){"use strict";var a=t("26c3"),i=t.n(a);i.a},a957:function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return i})),t.d(n,"a",(function(){}));var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-uni-view",{staticClass:"define-container"},[t("v-uni-view",{staticClass:"header"},[t("v-uni-text",{staticClass:"header-title"},[e._v("âœï¸ è‡ªå®šä¹‰è®¾å®š")]),t("v-uni-text",{staticClass:"header-desc"},[e._v("æ‰‹åŠ¨è¾“å…¥äººç‰©ä¿¡æ¯å’Œå…³ç³»ï¼ˆç‚¹å‡»âš™ï¸åˆ é™¤æ ‡ç­¾ï¼‰")])],1),t("v-uni-view",{staticClass:"form-group"},[t("v-uni-text",{staticClass:"form-label"},[e._v("æ”¶ä¿¡äººåç§°")]),t("v-uni-input",{staticClass:"name-input",attrs:{type:"text",placeholder:"è¯·è¾“å…¥æ”¶ä¿¡äººå§“å"},model:{value:e.receiverName,callback:function(n){e.receiverName=n},expression:"receiverName"}})],1),t("v-uni-view",{staticClass:"form-group"},[t("v-uni-text",{staticClass:"form-label"},[e._v("æ”¶ä¿¡äººæè¿°")]),t("v-uni-view",{staticClass:"tags-container"},[e._l(e.personalityTags,(function(n,a){return t("v-uni-view",{key:a,staticClass:"tag-item"},[t("v-uni-text",{staticClass:"tag-text",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addToReceiverDesc(n)}}},[e._v(e._s(n))]),t("v-uni-text",{staticClass:"tag-op",on:{click:function(n){n.stopPropagation(),arguments[0]=n=e.$handleEvent(n),e.deleteTag(a,"personality")}}},[e._v("âš™ï¸")])],1)})),t("v-uni-view",{staticClass:"tag add-tag",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.addTag("personality")}}},[e._v("+ æ·»åŠ æ€§æ ¼æ ‡ç­¾")])],2),t("v-uni-textarea",{staticClass:"desc-textarea",attrs:{placeholder:"æè¿°æ”¶ä¿¡äººçš„æ€§æ ¼ã€èƒŒæ™¯ã€ç»åŽ†ç­‰",rows:"6"},model:{value:e.receiverDesc,callback:function(n){e.receiverDesc=n},expression:"receiverDesc"}})],1),t("v-uni-view",{staticClass:"form-group"},[t("v-uni-text",{staticClass:"form-label"},[e._v("å¯„ä¿¡äººåç§°")]),t("v-uni-input",{staticClass:"name-input",attrs:{type:"text",placeholder:"è¯·è¾“å…¥å¯„ä¿¡äººå§“å"},model:{value:e.senderName,callback:function(n){e.senderName=n},expression:"senderName"}})],1),t("v-uni-view",{staticClass:"form-group"},[t("v-uni-text",{staticClass:"form-label"},[e._v("å¯„ä¿¡äººæè¿°")]),t("v-uni-view",{staticClass:"tags-container"},[e._l(e.personalityTags,(function(n,a){return t("v-uni-view",{key:a,staticClass:"tag-item"},[t("v-uni-text",{staticClass:"tag-text",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addToSenderDesc(n)}}},[e._v(e._s(n))]),t("v-uni-text",{staticClass:"tag-op",on:{click:function(n){n.stopPropagation(),arguments[0]=n=e.$handleEvent(n),e.deleteTag(a,"personality")}}},[e._v("âš™ï¸")])],1)})),t("v-uni-view",{staticClass:"tag add-tag",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.addTag("personality")}}},[e._v("+ æ·»åŠ æ€§æ ¼æ ‡ç­¾")])],2),t("v-uni-textarea",{staticClass:"desc-textarea",attrs:{placeholder:"æè¿°å¯„ä¿¡äººçš„æ€§æ ¼ã€èƒŒæ™¯ã€ç»åŽ†ç­‰",rows:"6"},model:{value:e.senderDesc,callback:function(n){e.senderDesc=n},expression:"senderDesc"}})],1),t("v-uni-view",{staticClass:"form-group"},[t("v-uni-text",{staticClass:"form-label"},[e._v("ä¸¤äººå…³ç³»æè¿°")]),t("v-uni-view",{staticClass:"tags-container"},[e._l(e.relationshipTags,(function(n,a){return t("v-uni-view",{key:a,staticClass:"tag-item"},[t("v-uni-text",{staticClass:"tag-text",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addToRelationship(n)}}},[e._v(e._s(n))]),t("v-uni-text",{staticClass:"tag-op",on:{click:function(n){n.stopPropagation(),arguments[0]=n=e.$handleEvent(n),e.deleteTag(a,"relationship")}}},[e._v("âš™ï¸")])],1)})),t("v-uni-view",{staticClass:"tag add-tag",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.addTag("relationship")}}},[e._v("+ æ·»åŠ å…³ç³»æ ‡ç­¾")])],2),t("v-uni-textarea",{staticClass:"desc-textarea",attrs:{placeholder:"æè¿°ä¸¤äººä¹‹é—´çš„å…³ç³»ï¼ˆå¦‚ï¼šæŒšå‹ã€å¸ˆç”Ÿã€äº²äººç­‰ï¼‰",rows:"4"},model:{value:e.relationship,callback:function(n){e.relationship=n},expression:"relationship"}})],1),t("v-uni-view",{staticClass:"btn-group"},[t("v-uni-button",{staticClass:"back-btn",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.$emit("back")}}},[t("v-uni-text",[e._v("è¿”å›ž")])],1),t("v-uni-button",{staticClass:"save-btn",attrs:{disabled:!e.isValid},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.saveDefineInfo.apply(void 0,arguments)}}},[t("v-uni-text",[e._v("ä¿å­˜è®¾å®š")])],1)],1),e.showAddDialog?t("v-uni-view",{staticClass:"dialog-mask"},[t("v-uni-view",{staticClass:"dialog"},[t("v-uni-text",{staticClass:"dialog-title"},[e._v("æ·»åŠ æ ‡ç­¾")]),t("v-uni-input",{staticClass:"dialog-input",attrs:{type:"text",placeholder:"è¯·è¾“å…¥æ ‡ç­¾åç§°"},model:{value:e.newTagName,callback:function(n){e.newTagName=n},expression:"newTagName"}}),t("v-uni-view",{staticClass:"dialog-btns"},[t("v-uni-button",{staticClass:"dialog-btn cancel-btn",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.showAddDialog=!1}}},[t("v-uni-text",[e._v("å–æ¶ˆ")])],1),t("v-uni-button",{staticClass:"dialog-btn confirm-btn",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.confirmAddTag.apply(void 0,arguments)}}},[t("v-uni-text",[e._v("ç¡®å®šæ·»åŠ ")])],1)],1)],1)],1):e._e()],1)},i=[]},aa14:function(e,n,t){var a=t("c86c");n=a(!1),n.push([e.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* é¡µé¢åŸºç¡€æ ·å¼ */uni-page-body[data-v-5d6aaf0e]{background-color:#f8f5f0;padding:10px;box-sizing:border-box}body.?%PAGE?%[data-v-5d6aaf0e]{background-color:#f8f5f0}.define-container[data-v-5d6aaf0e]{max-width:800px;margin:0 auto;width:100%}\n/* å¤´éƒ¨æ ·å¼ */.header[data-v-5d6aaf0e]{text-align:center;margin-bottom:20px}.header-title[data-v-5d6aaf0e]{font-size:18px;font-weight:700;color:#333;display:block}.header-desc[data-v-5d6aaf0e]{font-size:14px;color:#666;margin-top:5px;display:block}\n/* è¡¨å•ç»„æ ·å¼ */.form-group[data-v-5d6aaf0e]{background:#fff;padding:15px;border-radius:8px;margin-bottom:15px;box-shadow:0 1px 3px rgba(0,0,0,.1)}.form-label[data-v-5d6aaf0e]{font-size:15px;font-weight:500;color:#444;margin-bottom:8px;display:block}\n/* è¾“å…¥æ¡†æ ·å¼ */.name-input[data-v-5d6aaf0e]{width:100%;height:40px;padding:0 10px;border:1px solid #eee;border-radius:6px;font-size:14px;box-sizing:border-box}\n/* æ ‡ç­¾å®¹å™¨æ ·å¼ */.tags-container[data-v-5d6aaf0e]{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:10px;min-height:30px}\n/* æ ‡ç­¾é¡¹æ ·å¼ */.tag-item[data-v-5d6aaf0e]{display:flex;align-items:center;background:#e6f7ff;border-radius:15px;padding:0 8px}.tag-text[data-v-5d6aaf0e]{font-size:13px;color:#1890ff;padding:5px 0;cursor:pointer}.tag-text[data-v-5d6aaf0e]:hover{color:#096dd9}\n/* å°é½¿è½®å›¾æ ‡æ ·å¼ */.tag-op[data-v-5d6aaf0e]{font-size:12px;color:#ff4d4f;margin-left:5px;cursor:pointer;transition:color .2s}.tag-op[data-v-5d6aaf0e]:hover{color:#d9363e}\n/* æ·»åŠ æ ‡ç­¾æŒ‰é’® */.tag.add-tag[data-v-5d6aaf0e]{padding:5px 12px;background:#f0f2f5;color:#666;border-radius:15px;font-size:13px;cursor:pointer}.tag.add-tag[data-v-5d6aaf0e]:hover{background:#e5e6eb}\n/* æ–‡æœ¬åŸŸæ ·å¼ */.desc-textarea[data-v-5d6aaf0e]{width:100%;min-height:100px;padding:10px;border:1px solid #eee;border-radius:6px;font-size:14px;box-sizing:border-box;resize:vertical}\n/* æŒ‰é’®ç»„æ ·å¼ */.btn-group[data-v-5d6aaf0e]{display:flex;gap:10px;margin-top:20px}.back-btn[data-v-5d6aaf0e], .save-btn[data-v-5d6aaf0e]{flex:1;height:44px;line-height:44px;border:none;border-radius:8px;font-size:15px}.back-btn[data-v-5d6aaf0e]{background:#f5f5f5;color:#666}.save-btn[data-v-5d6aaf0e]{background:#9f7aea;color:#fff}.save-btn[data-v-5d6aaf0e]:disabled{background:#ccc;color:#999;cursor:not-allowed}\n/* å¼¹çª—é®ç½© */.dialog-mask[data-v-5d6aaf0e]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center;z-index:999}\n/* å¼¹çª—å†…å®¹ - ä¼˜åŒ–å°å±æ˜¾ç¤º */.dialog[data-v-5d6aaf0e]{width:90%; /* ä»Ž80%æ”¹ä¸º90%ï¼Œé€‚é…å°å± */max-width:400px;background:#fff;border-radius:10px;padding:20px;box-sizing:border-box}.dialog-title[data-v-5d6aaf0e]{font-size:16px;font-weight:700;margin-bottom:15px;display:block;text-align:center}.dialog-input[data-v-5d6aaf0e]{width:100%;height:40px;border:1px solid #ddd;border-radius:5px;padding:0 10px;margin-bottom:20px;box-sizing:border-box}\n/* å¼¹çª—æŒ‰é’®ç»„ */.dialog-btns[data-v-5d6aaf0e]{display:flex;gap:10px}.dialog-btn[data-v-5d6aaf0e]{flex:1;height:40px;border:none;border-radius:5px;font-size:14px}.cancel-btn[data-v-5d6aaf0e]{background:#f5f5f5;color:#666}.confirm-btn[data-v-5d6aaf0e]{background:#9f7aea;color:#fff}",""]),e.exports=n},b2b13:function(e,n,t){"use strict";t("6a54"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,t("0c26"),t("d4b5"),t("aa9c"),t("dd2b");var a={name:"DefinePage",data:function(){return{receiverName:"",receiverDesc:"",senderName:"",senderDesc:"",relationship:"",personalityTags:[],relationshipTags:[],showAddDialog:!1,newTagName:"",currentAddCategory:""}},computed:{isValid:function(){return this.receiverName.trim()&&this.senderName.trim()&&this.relationship.trim()}},created:function(){this.initTags()},methods:{initTags:function(){try{var e=uni.getStorageSync("personality_tags");this.personalityTags=e?JSON.parse(e):["æ¸©å’Œ","æš´èº","èªæ…§","ç›´çŽ‡","å†…æ•›","çƒ­æƒ…","å¿§éƒ","ä¹è§‚"];var n=uni.getStorageSync("relationship_tags");this.relationshipTags=n?JSON.parse(n):["æŒšå‹","å¸ˆç”Ÿ","äº²äºº","æ‹äºº","åŒäº‹","æ•Œäºº","åŒä¹¡","çŸ¥å·±"]}catch(t){this.personalityTags=["æ¸©å’Œ","æš´èº","èªæ…§","ç›´çŽ‡","å†…æ•›","çƒ­æƒ…","å¿§éƒ","ä¹è§‚"],this.relationshipTags=["æŒšå‹","å¸ˆç”Ÿ","äº²äºº","æ‹äºº","åŒäº‹","æ•Œäºº","åŒä¹¡","çŸ¥å·±"],uni.setStorageSync("personality_tags",JSON.stringify(this.personalityTags)),uni.setStorageSync("relationship_tags",JSON.stringify(this.relationshipTags))}},addToReceiverDesc:function(e){e&&(this.receiverDesc+=(this.receiverDesc?", ":"")+e)},addToSenderDesc:function(e){e&&(this.senderDesc+=(this.senderDesc?", ":"")+e)},addToRelationship:function(e){e&&(this.relationship+=(this.relationship?", ":"")+e)},addTag:function(e){e&&(this.currentAddCategory=e,this.newTagName="",this.showAddDialog=!0)},confirmAddTag:function(){if(this.newTagName&&""!==this.newTagName.trim()){var e=this.newTagName.trim();try{"personality"===this.currentAddCategory?(this.personalityTags.push(e),uni.setStorageSync("personality_tags",JSON.stringify(this.personalityTags))):"relationship"===this.currentAddCategory&&(this.relationshipTags.push(e),uni.setStorageSync("relationship_tags",JSON.stringify(this.relationshipTags))),uni.showToast({title:"æ ‡ç­¾æ·»åŠ æˆåŠŸ",icon:"success",duration:1500}),this.showAddDialog=!1}catch(n){uni.showToast({title:"æ·»åŠ å¤±è´¥ï¼Œè¯·é‡è¯•",icon:"none",duration:1500})}}else uni.showToast({title:"æ ‡ç­¾åç§°ä¸èƒ½ä¸ºç©º",icon:"none",duration:1500})},deleteTag:function(e,n){if(void 0===e||e<0||!n)uni.showToast({title:"å‚æ•°é”™è¯¯",icon:"none",duration:1500});else{var t=this;uni.showModal({title:"ç¡®è®¤åˆ é™¤",content:"æ˜¯å¦ç¡®å®šåˆ é™¤è¯¥æ ‡ç­¾ï¼Ÿ",success:function(a){if(a.confirm)try{if("personality"===n){if(!(e<t.personalityTags.length))return void uni.showToast({title:"æ ‡ç­¾ä¸å­˜åœ¨",icon:"none",duration:1500});t.personalityTags.splice(e,1),uni.setStorageSync("personality_tags",JSON.stringify(t.personalityTags))}else if("relationship"===n){if(!(e<t.relationshipTags.length))return void uni.showToast({title:"æ ‡ç­¾ä¸å­˜åœ¨",icon:"none",duration:1500});t.relationshipTags.splice(e,1),uni.setStorageSync("relationship_tags",JSON.stringify(t.relationshipTags))}uni.showToast({title:"æ ‡ç­¾åˆ é™¤æˆåŠŸ",icon:"success",duration:1500})}catch(i){uni.showToast({title:"åˆ é™¤å¤±è´¥ï¼Œè¯·é‡è¯•",icon:"none",duration:1500})}}})}},saveDefineInfo:function(){try{var e={receiver:{name:this.receiverName.trim(),info:this.receiverDesc.trim()},sender:{name:this.senderName.trim(),info:this.senderDesc.trim()},relationship:this.relationship.trim()};uni.setStorageSync("define_form_data",JSON.stringify(e)),uni.showToast({title:"è®¾å®šä¿å­˜æˆåŠŸ",icon:"success",duration:1500}),this.$emit("complete",e)}catch(n){uni.showToast({title:"ä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•",icon:"none",duration:1500})}}}};n.default=a},b5fb:function(e,n,t){var a=t("c86c");n=a(!1),n.push([e.i,"uni-page-body[data-v-6abbafb8]{background-color:#f8f5f0}body.?%PAGE?%[data-v-6abbafb8]{background-color:#f8f5f0}.container[data-v-6abbafb8]{padding:20px;min-height:100vh}\n\n/* æ¨¡å¼é€‰æ‹©æ ·å¼ */.mode-selector[data-v-6abbafb8]{display:flex;justify-content:space-around;margin-bottom:30px;padding:10px;background-color:#fff;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.1)}.mode-btn[data-v-6abbafb8]{display:flex;flex-direction:column;align-items:center;padding:15px 10px;width:30%;border-radius:8px;cursor:pointer}.mode-btn.active[data-v-6abbafb8]{background-color:#e8f4f8;border:1px solid #4299e1}.ink-icon[data-v-6abbafb8]{font-size:24px;margin-bottom:8px}.mode-text[data-v-6abbafb8]{font-size:14px;color:#333;font-weight:500}\n\n/* æ ¸å¿ƒå†™ä¿¡åŒºåŸŸ */.letter-container[data-v-6abbafb8]{background-color:#fff;padding:25px;border-radius:12px;box-shadow:0 2px 12px rgba(0,0,0,.08)}.title[data-v-6abbafb8]{display:block;text-align:center;color:#2d3748;margin-bottom:25px;font-weight:600;font-size:18px}.form-item[data-v-6abbafb8]{margin-bottom:20px}.form-label[data-v-6abbafb8]{display:block;margin-bottom:8px;color:#4a5568;font-weight:500;font-size:15px}\n\n/* é£Žæ ¼é€‰æ‹©å™¨æ ·å¼ */.style-selector[data-v-6abbafb8]{display:flex;flex-wrap:wrap;gap:10px;padding:10px 0}.style-tag[data-v-6abbafb8]{padding:8px 15px;background-color:#f1f1f1;border-radius:20px;font-size:14px;color:#4a5568;cursor:pointer}.style-tag-active[data-v-6abbafb8]{background-color:#4299e1;color:#fff}\n\n/* è¾“å…¥æ¡†æ ·å¼ */.name-input[data-v-6abbafb8]{width:100%;height:44px;line-height:44px;padding:0 15px;border:1px solid #e2e8f0;border-radius:8px;font-size:14px;color:#2d3748;box-sizing:border-box;background-color:#fff;user-select:text;-webkit-user-select:text}\n\n/* æ–‡æœ¬åŸŸæ ·å¼ */.content-textarea[data-v-6abbafb8]{width:100%;min-height:120px;padding:12px 15px;border:1px solid #e2e8f0;border-radius:8px;font-size:14px;color:#2d3748;box-sizing:border-box;background-color:#fff;line-height:1.6;user-select:text;-webkit-user-select:text}\n\n/* å ä½ç¬¦æ ·å¼ */.input-placeholder[data-v-6abbafb8]{color:#a0aec0;font-size:14px}\n\n/* æŒ‰é’®æ ·å¼ */.generate-btn[data-v-6abbafb8]{width:100%;height:48px;line-height:48px;background-color:#4299e1;color:#fff;border:none;border-radius:8px;font-size:16px;font-weight:500;margin-top:10px}.generate-btn[data-v-6abbafb8]:disabled{background-color:#a0aec0}\n\n/* å›žä¿¡å±•ç¤º */.reply-container[data-v-6abbafb8]{margin-top:30px;padding-top:20px;border-top:1px dashed #e2e8f0}.reply-title[data-v-6abbafb8]{display:block;color:#2d3748;margin-bottom:15px;font-weight:500;font-size:16px}.reply-content[data-v-6abbafb8]{padding:20px;background-color:#f8f9fa;border-radius:8px;line-height:1.8;color:#2d3748;white-space:pre-wrap;font-size:14px}",""]),e.exports=n},c76a:function(e,n,t){"use strict";t("6a54");var a=t("f5bd").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,t("c223"),t("0c26"),t("7a76"),t("c9b5");var i=a(t("2634")),o=a(t("2fdc")),s=a(t("c2ba")),r=a(t("3ca5")),c={components:{customizePage:s.default,definePage:r.default},data:function(){return{currentMode:"direct",showModePage:!1,personaData:null,letterStyles:[{label:"å¤é£Ž",value:"ancient"},{label:"è‹±å¼",value:"british"},{label:"æ—¶ä»£é£Žæ ¼",value:"period"}],selectedStyle:"ancient",sender:"",receiver:"",letterContent:"",replyContent:"",loading:!1,aliConfig:{apiKey:"sk-dc6ccba625b8476ab9429ec07d1c5c76",apiUrl:"/qwen-proxy/api/v1/services/aigc/text-generation/generation"}}},methods:{switchMode:function(e){this.currentMode=e,"direct"===e?(this.showModePage=!1,this.personaData=null,this.resetLetter()):this.showModePage=!0},resetLetter:function(){this.sender="",this.receiver="",this.letterContent="",this.replyContent=""},onCustomizeComplete:function(e){this.personaData=e,this.showModePage=!1,this.sender=e.sender.name,this.receiver=e.receiver.name,uni.showToast({title:"äººç‰©è®¾å®šå·²ä¿å­˜",icon:"success"})},onDefineComplete:function(e){this.personaData=e,this.showModePage=!1,this.sender=e.sender.name,this.receiver=e.receiver.name,uni.showToast({title:"è‡ªå®šä¹‰è®¾å®šå·²ä¿å­˜",icon:"success"})},callQwenApi:function(){var e=this;return(0,o.default)((0,i.default)().mark((function n(){var t,a,o,s,r;return(0,i.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.sender&&e.receiver&&e.letterContent){n.next=3;break}return uni.showToast({title:"è¯·å¡«å†™å®Œæ•´ä¿¡æ¯",icon:"none"}),n.abrupt("return");case 3:e.loading=!0,e.replyContent="",n.prev=5,a="",n.t0=e.selectedStyle,n.next="ancient"===n.t0?10:"british"===n.t0?12:"period"===n.t0?14:16;break;case 10:return a="é‡‡ç”¨ä¸­å›½å¤ä»£ä¹¦ä¿¡é£Žæ ¼ï¼Œè¯­è¨€å…¸é›…ï¼Œä½¿ç”¨æ–‡è¨€æ–‡æˆ–åŠæ–‡åŠç™½çš„è¡¨è¾¾ï¼Œç¬¦åˆä¼ ç»Ÿä¹¦ä¿¡æ ¼å¼ï¼ŒåŒ…å«æ°å½“çš„æ•¬è¯­å’Œè°¦è¾žã€‚",n.abrupt("break",16);case 12:return a="é‡‡ç”¨è‹±å¼ä¼ ç»Ÿä¹¦ä¿¡é£Žæ ¼ï¼Œè¯­è¨€åº„é‡å¾—ä½“ï¼Œæ³¨é‡ç¤¼ä»ªå’Œå½¢å¼ï¼Œä½¿ç”¨ç¬¦åˆè‹±å›½æ–‡åŒ–ä¹ æƒ¯çš„é—®å€™è¯­å’Œç»“æŸè¯­ã€‚",n.abrupt("break",16);case 14:return a="ä¸¥æ ¼éµå¾ªæ”¶ä¿¡äººæ‰€å¤„æ—¶ä»£çš„è¯­è¨€é£Žæ ¼å’Œä¹¦ä¿¡æ ¼å¼ï¼Œè¯­æ°”å’Œè¡¨è¾¾æ–¹å¼ç¬¦åˆå…¶åŽ†å²èƒŒæ™¯å’Œç¤¾ä¼šåœ°ä½ã€‚",n.abrupt("break",16);case 16:return o="ä½ æ˜¯ä¸€ä½ç²¾é€šå„ç±»ä¹¦ä¿¡æ–‡åŒ–çš„ä¸“å®¶ï¼Œæ“…é•¿ä»¥æ”¶ä¿¡äººçš„èº«ä»½æ’°å†™ç¬¦åˆç‰¹å®šé£Žæ ¼çš„å›žä¿¡ã€‚\nè¦æ±‚ï¼š\n1. ".concat(a,"\n2. æ ¼å¼éµå¾ªå¯¹åº”é£Žæ ¼çš„ä¹¦ä¿¡è§„èŒƒï¼ŒåŒ…å«ç§°è°“ã€æ•¬è¯­ã€ç¥é¢‚è¯­ã€è½æ¬¾ç­‰ï¼›\n3. è¯­æ°”ç¬¦åˆæ”¶ä¿¡äººä¸Žå¯„ä¿¡äººçš„å…³ç³»å’Œèº«ä»½ç‰¹ç‚¹ã€‚"),e.personaData&&(o+="\n\nã€äººç‰©è®¾å®šã€‘\næ”¶ä¿¡äºº(".concat(e.personaData.receiver.name,")ï¼š").concat(e.personaData.receiver.info||"æ— ç‰¹æ®Šè®¾å®š","\nå¯„ä¿¡äºº(").concat(e.personaData.sender.name,")ï¼š").concat(e.personaData.sender.info||"æ— ç‰¹æ®Šè®¾å®š","\nä¸¤äººå…³ç³»ï¼š").concat(e.personaData.relationship||"æ— ç‰¹æ®Šè®¾å®š")),s={model:"qwen-plus",input:{messages:[{role:"system",content:o},{role:"user",content:"å¯„ä¿¡äººï¼š".concat(e.sender,"\næ”¶ä¿¡äººï¼š").concat(e.receiver,"\nä¿¡ä»¶å†…å®¹ï¼š").concat(e.letterContent,"\nè¯·ä»¥").concat(e.receiver,"çš„èº«ä»½ç»™").concat(e.sender,"å†™ä¸€å°ç¬¦åˆæŒ‡å®šé£Žæ ¼çš„å›žä¿¡ï¼Œä»…è¿”å›žå›žä¿¡å†…å®¹ã€‚")}]},parameters:{result_format:"text",temperature:.8,top_p:.8}},n.next=21,uni.request({url:e.aliConfig.apiUrl,method:"POST",header:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.aliConfig.apiKey)},data:s});case 21:if(r=n.sent,200!==r.statusCode||null===(t=r.data.output)||void 0===t||!t.text){n.next=26;break}e.replyContent=r.data.output.text.trim(),n.next=27;break;case 26:throw new Error("AIè¿”å›žæ•°æ®å¼‚å¸¸");case 27:n.next=33;break;case 29:n.prev=29,n.t1=n["catch"](5),console.error("ç”Ÿæˆå¤±è´¥ï¼š",n.t1),uni.showToast({title:"ç”Ÿæˆå¤±è´¥ï¼Œè¯·é‡è¯•",icon:"none"});case 33:return n.prev=33,e.loading=!1,n.finish(33);case 36:case"end":return n.stop()}}),n,null,[[5,29,33,36]])})))()}}};n.default=c},e575:function(e,n,t){var a=t("b5fb");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=t("967d").default;i("125e5833",a,!0,{sourceMap:!1,shadowMode:!1})}}]);